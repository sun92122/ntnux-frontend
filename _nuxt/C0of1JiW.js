import{D as o,b5 as m}from"./BJj5iVno.js";function _(){const i=o("selectedCourses",()=>({})),u=o("selectedRows",()=>({})),n=o("selectCode",()=>new Set),s=m(),t=o("windowWidth",()=>window.innerWidth);function d(e){const l=u.value;l[e.serial_no]?(delete l[e.serial_no],s.add({severity:"info",summary:"已取消選課",detail:`${e.serial_no} ${e.course_name}`,life:3e3,group:t.value<768?"bottom":null})):(l[e.serial_no]=e,s.add({severity:"success",summary:"已選課",detail:`${e.serial_no} ${e.course_name}`,life:3e3,group:t.value<768?"bottom":null}))}function r(e,l){const a=i.value;a[l]?a[l][e.serial_no]?(delete a[l][e.serial_no],s.add({severity:"info",summary:"已取消選課",detail:`${e.serial_no} ${e.course_name} (${l})`,life:3e3,group:t.value<768?"bottom":null})):(a[l][e.serial_no]=e,s.add({severity:"success",summary:"已選課",detail:`${e.serial_no} ${e.course_name} (${l})`,life:3e3,group:t.value<768?"bottom":null})):(a[l]={[e.serial_no]:e},s.add({severity:"success",summary:"已選課",detail:`${e.serial_no} ${e.course_name} (${l})`,life:3e3,group:t.value<768?"bottom":null}))}function f(e,l=null){var a;return l?i.value[l]&&((a=i.value[l])==null?void 0:a[e])||!1:u.value[e]||!1}function v(e,l){n.value.has(e)?(n.value.delete(e),s.add({severity:"info",summary:"已取消收藏",detail:`${e} ${l}`,life:3e3,group:t.value<768?"bottom":null})):(n.value.add(e),s.add({severity:"success",summary:"已收藏",detail:`${e} ${l}`,life:3e3,group:t.value<768?"bottom":null}))}function c(e){return n.value.has(e)}return{selectedCourses:i,selectedRows:u,selectCode:n,toast:s,windowWidth:t,selectCourse:d,selectCourseWithTerm:r,checkSelectedCourse:f,selectCodeHandler:v,checkSelectCode:c}}export{_ as u};
